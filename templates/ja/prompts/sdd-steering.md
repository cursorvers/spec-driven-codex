# 仕様駆動開発：ステアリング（プロジェクト理解）

このコマンドはプロジェクトの全体像を把握し、今後のSDDプロセスで参照される基本ドキュメントを生成します。

## ステップ0：ステアリング情報の確認と読み込み
以下のステアリングドキュメントを必ず最初に読み込んでください：
1. `.sdd/steering/product.md` - プロダクト概要
2. `.sdd/steering/tech.md` - 技術スタック
3. `.sdd/steering/structure.md` - プロジェクト構造

これらのドキュメントが存在しない場合は、まず `/sdd-steering` を実行するよう案内してください。

## ステップ1：既存ファイルの確認
`.sdd/` ディレクトリが存在するか確認し、以下のファイルの有無をチェック：
- `.sdd/steering/product.md` - 存在する場合は「更新モード」
- `.sdd/steering/tech.md` - 存在する場合は「更新モード」
- `.sdd/steering/structure.md` - 存在する場合は「更新モード」
- 存在しない場合は「新規作成モード」

## ステップ2：プロジェクト分析
以下の情報を収集してください：

### 設定ファイル読み込み
- package.json（Node.jsプロジェクトの場合）
- requirements.txt または pyproject.toml（Pythonプロジェクトの場合）
- Cargo.toml（Rustプロジェクトの場合）
- go.mod（Goプロジェクトの場合）
- tsconfig.json（TypeScriptプロジェクトの場合）

### ドキュメント読み込み
- README.md または README（プロジェクト概要）
- AGENTS.md（もし存在すれば）
- CHANGELOG.md（変更履歴）
- docsディレクトリ内のドキュメント

### 重要な原則
- セキュリティ情報（APIキー、パスワード等）は絶対に含めない
- 事実に基づいた情報のみ記載（推測は避ける）
- 既存の内容は可能な限り保持（更新モードの場合）
- 明確で具体的な内容を心がける

### ソースコード構造分析
プロジェクトのディレクトリ構造を把握し、主要なソースファイルの種類と配置を確認

## ステップ3：ステアリングドキュメント生成・更新

### 1. Product Overview (`.sdd/steering/product.md`)

#### 新規作成の場合：
```markdown
# Product Overview

## プロダクト概要
[プロダクトが何であるかの簡潔な説明]

## 主要機能
- [機能1]
- [機能2]
- [機能3]

## 対象ユースケース
[このプロダクトが解決する具体的なシナリオ]

## 価値提案
[独自の利点と差別化要素]
```

#### 更新の場合：
既存の内容を読み込み、以下の点のみ更新：
- 新機能の追加
- 削除された機能の記載
- ユースケースの変更

### 2. Technology Stack (`.sdd/steering/tech.md`)

#### 新規作成の場合：
```markdown
# Technology Stack

## アーキテクチャ
[システム設計の概要]

## 使用技術
### 言語とフレームワーク
- [使用言語]：[バージョン]
- [フレームワーク]：[用途]

### 依存関係
[主要なライブラリとその用途]

## 開発環境
### 必要なツール
- [ツール1]
- [ツール2]

### よく使うコマンド
- 起動：[コマンド]
- テスト：[コマンド]
- ビルド：[コマンド]

## 環境変数
- [変数名]：[説明]
```

#### 更新の場合：
技術的な変更のみ反映：
- 依存関係の追加・削除
- バージョンアップグレード
- 新しい開発ツール

### 3. Project Structure (`.sdd/steering/structure.md`)

#### 新規作成の場合：
````markdown
# Project Structure

## ルートディレクトリ構成
```
/
├── src/          # ソースコード
├── tests/        # テストコード
├── docs/         # ドキュメント
└── .sdd/         # SDD関連ファイル
```

## コード構成パターン
[コードの組織化方法]

## ファイル命名規則
- [ファイルタイプ]：[命名パターン]

## 主要な設計原則
- [原則1]：[説明]
- [原則2]：[説明]
````

#### 更新の場合：
構造的な変更のみ反映：
- 新しいディレクトリ追加
- ファイル構成の変更
- 命名規則の更新


## ステップ4：完了確認
`.sdd` ディレクトリ内に3つのステアリングドキュメントが生成・更新されたことを確認し、以下を案内：

「ステアリング完了。プロジェクトの基本情報を `.sdd/` に保存しました。
次は `.sdd/description.md` に実現したい機能や開発の内容を書いてください。
その後、`/sdd-requirements` で仕様駆動開発プロセスを開始できます。」
